<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPI-AMRVAC: Using axial and translational symmetry</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MPI-AMRVAC<span id="projectnumber">&#160;3.1</span>
   </div>
   <div id="projectbrief">The MPI - Adaptive Mesh Refinement - Versatile Advection Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Using axial and translational symmetry</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A number of different grid geometries are <em>in principle</em> supported:</p>
<ul>
<li>Cartesian (or 'slab'): x, y, z</li>
<li>Cylindrical: r, z, phi</li>
<li>Polar: r, phi, z</li>
<li>Spherical: r, phi, theta</li>
</ul>
<p>For each grid type, there are 1D, 2D, and 3D versions. For some, there are also special versions:</p>
<ul>
<li>1.5D: 1D grid, but at each grid cell vectors have 2 components</li>
<li>2.5D: 2D grid, but at each grid cell vectors have 3 components</li>
</ul>
<p>A user can specify the coordinate system by calling <code>set_coordinate_system</code> in his/her <code>usr_init()</code> routine. Here are some examples: </p><pre class="fragment">call set_coordinate_system("Cartesian")
call set_coordinate_system("Cartesian_1D")
call set_coordinate_system("Cartesian_1.5D")
call set_coordinate_system("Cartesian_1.75D")
call set_coordinate_system("Cartesian_2D")
call set_coordinate_system("Cartesian_2.5D")
call set_coordinate_system("Cartesian_3D")
call set_coordinate_system("cylindrical")
call set_coordinate_system("cylindrical_2D")
call set_coordinate_system("cylindrical_3D")
call set_coordinate_system("cylindrical_2.5D")
call set_coordinate_system("polar_2D")
call set_coordinate_system("polar_2.5D")
call set_coordinate_system("polar_3D")
call set_coordinate_system("spherical_2D")
call set_coordinate_system("spherical_2.5D")
call set_coordinate_system("spherical_3D")
</pre><p> The code should print an error when you select an option that is unavailable.</p>
<h1>Geometric source terms</h1>
<p>In slab symmetry all fluxes entering the cells from the ignored direction cancel exactly. In cylindrical or spherical symmetry, however, there are non- vanishing contributions. These extra fluxes are always functions of the quantities in the local cell and of the geometry only, since due to the symmetry assumption, the quantities in the virtual neighbouring cells in the ignored direction(s) are the same as in the local cell except for the geometrical transformation, e.g. rotation of vector quantities around the symmetry axis. Consequently the contributions are added like source terms. To maintain equilibrium better, the 'geometrical sources' are added at the same time as fluxes in the radial direction. On a polar grid the extra terms are exactly the same as for cylindrical symmetry.</p>
<h2>Boundary at the Symmetry Axis</h2>
<p>The symmetry axis is actually a special case of periodicity. For 3D cylindrical and spherical grid computations, the singular polar axis is trivially handled using a so-called pi-periodic boundary treatment, where periodicity across the pole comes from the grid cell diagonally across the pole, i.e. displaced over pi instead of 2 pi. These are automatically recognized from the typeaxial setting, if the radial range starts at zero. The corresponding range in angle phi must span 2 pi for cylindrical, and theta must then start at zero (to include the north pole) and/or end at pi (for the south pole) for spherical grids. The user just needs to set the <em>typeboundary</em> as if the singular axis is a symmetry boundary (using symm and asymm combinations). <b>There is one important restriction: the number of grid blocks must be even around the pole.</b> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
