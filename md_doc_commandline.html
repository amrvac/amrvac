<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPI-AMRVAC: Command line parameters</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MPI-AMRVAC
   &#160;<span id="projectnumber">3.1</span>
   </div>
   <div id="projectbrief">The MPI - Adaptive Mesh Refinement - Versatile Advection Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Command line parameters </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>AMRVAC can be invoked with command line parameters, for example to do a restart run or to convert <code>.dat</code> files. The documentation for the command line parameters is available through: </p><pre class="fragment">./amrvac --help
</pre><p> which currently prints: </p><pre class="fragment">Usage example:
mpirun -np 4 ./amrvac -i file.par [file2.par ...]
         (later .par files override earlier ones)

Optional arguments:
-convert             Convert snapshot files
-if file0001.dat     Use this snapshot to restart from
                     (you can modify e.g. output names)
-resume              Automatically resume previous run
                     (useful for long runs on HPC systems)
-snapshotnext N      Manual index for next snapshot
-slicenext N         Manual index for next slice output
-collapsenext N      Manual index for next collapsed output
</pre> <h1>Examples</h1>
<h2>Using multiple par files</h2>
<pre class="fragment">mpirun -np 4 ./amrvac -i file1.par file2.par
</pre><p> Note that settings from later par files override earlier ones. There is one exception to this: <code>base_filename</code>, for which the values are concatenated. Par files do not need to contain all the namelists (see <a class="el" href="md_doc_par.html">Setting parameters</a>).</p>
<h2>Resume a previous simulation (which has not finished yet)</h2>
<pre class="fragment">mpirun -np 4 ./amrvac -i amrvac.par -resume
</pre><p> This will automatically look for the last available snapshot (<code>.dat</code>) file and resume from it. Note that the indices for the next output files are automatically set. If the simulation was ended normally reaching wall time limit (see parameter <code>wall_time_max</code> to reach time limit of jobs on HPC systems), the resumed run will keep the previous output (time) cadence and overwrite the snapshot file from which the run resumed, so that the whole data series keep the same pace as if it was never stopped and resumed.</p>
<h2>Restart a previous simulation from a specific snapshot</h2>
<pre class="fragment">mpirun -np 4 ./amrvac -i amrvac.par -if output/sim0010.dat
</pre><p> To start the new output from a different index: </p><pre class="fragment">mpirun -np 4 ./amrvac -i amrvac.par -if output/sim0010.dat -snapshotnext 100
</pre> <h2>Convert a .dat file to another format</h2>
<pre class="fragment">mpirun -np 4 ./amrvac -i amrvac.par -if output/sim0010.dat -convert
</pre><p> See <a class="el" href="md_doc_par.html">Setting parameters</a> for a list of formats (which should be specified in the <code>.par</code> file) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
