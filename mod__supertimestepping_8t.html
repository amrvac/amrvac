<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPI-AMRVAC: src/mod_supertimestepping.t File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MPI-AMRVAC<span id="projectnumber">&#160;3.1</span>
   </div>
   <div id="projectbrief">The MPI - Adaptive Mesh Refinement - Versatile Advection Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#namespaces">Modules</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">mod_supertimestepping.t File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="mod__supertimestepping_8t_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Modules</h2></td></tr>
<tr class="memitem:namespacemod__supertimestepping" id="r_namespacemod__supertimestepping"><td class="memItemLeft" align="right" valign="top">module &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html">mod_supertimestepping</a></td></tr>
<tr class="memdesc:namespacemod__supertimestepping"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic supertimestepping method 1) in amrvac.par in sts_list set the following parameters which have the default values: sts_dtpar=0.9,sts_ncycles=1000,sts_method=1,sourcetype_sts=2 These parametes are general for all the methods added TODO: check if there is any need to have terms implemented with different sets of parameters, and these cannot be general anymore 2) then add programatically in the code a term with the subroutine add_sts_method This method takes as parameters a function which calculated the explicit timestep associated with the term, a subroutine which sets the source term types for the BC and the BC are generated from the variables startVar:endVar flux conservation (fixconserve) is done for the variables specified by ixChangeStart, ixChangeN, ixChangeFixC The following two steps are done in this way as in fortran it is not allowed to pass null function pointers as parameters: 3)in order to to have hooks before_first_cycle, after_last_cycle (e.g. conversion from e_tot to e_int before first sts cycle and back from e_int to e_tot after the last STS cycle for the thermal conductivity module) add them just afterwards with the subroutine set_conversion_methods_to_head 4) to add the hook for error handling (e.g check small values in the thermal conductivity module ) call set_error_handling_to_head which takes as parameter a subroutine the error handling subroutine is called before setting BC. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ae300305fc391679ed668a2d0eb686b67" id="r_ae300305fc391679ed668a2d0eb686b67"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#ae300305fc391679ed668a2d0eb686b67">mod_supertimestepping::sts_init</a> ()</td></tr>
<tr class="memdesc:ae300305fc391679ed668a2d0eb686b67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize sts module.  <br /></td></tr>
<tr class="separator:ae300305fc391679ed668a2d0eb686b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e081548b6182229b9430302af5da2a8" id="r_a5e081548b6182229b9430302af5da2a8"><td class="memItemLeft" align="right" valign="top">pure logical function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#a5e081548b6182229b9430302af5da2a8">mod_supertimestepping::is_sts_initialized</a> ()</td></tr>
<tr class="separator:a5e081548b6182229b9430302af5da2a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b8ba942141441da1810e653facd035c" id="r_a7b8ba942141441da1810e653facd035c"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#a7b8ba942141441da1810e653facd035c">mod_supertimestepping::add_sts_method</a> (sts_getdt, sts_set_sources, startvar, nflux, startwbc, nwbc, evolve_b)</td></tr>
<tr class="memdesc:a7b8ba942141441da1810e653facd035c"><td class="mdescLeft">&#160;</td><td class="mdescRight">subroutine which added programatically a term to be calculated using STS Params: sts_getdt function calculates the explicit timestep for this term sts_set_sources subroutine sets the source term startVar, endVar, nflux indices of start, end, and number of the variables that need fix conservation startwbc, nwbc indices of start and number of the variables that need ghost cell exchange These terms implemented by an element of the derived type sts_term are put in a linked list  <br /></td></tr>
<tr class="separator:a7b8ba942141441da1810e653facd035c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6c319b28911c6e73c1218f56f66d850" id="r_aa6c319b28911c6e73c1218f56f66d850"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#aa6c319b28911c6e73c1218f56f66d850">mod_supertimestepping::set_conversion_methods_to_head</a> (sts_before_first_cycle, sts_after_last_cycle)</td></tr>
<tr class="memdesc:aa6c319b28911c6e73c1218f56f66d850"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the hooks called before the first cycle and after the last cycle in the STS update This method should be called after add_sts_method. The hooks are added to the last term added with this subroutine Params: sts_before_first_cycle, sts_after_last_cycle subroutines which implement the hooks called before first cycle and after last cycle.  <br /></td></tr>
<tr class="separator:aa6c319b28911c6e73c1218f56f66d850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8f1d9807c6320de449a5983500bd7c8" id="r_ab8f1d9807c6320de449a5983500bd7c8"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#ab8f1d9807c6320de449a5983500bd7c8">mod_supertimestepping::set_error_handling_to_head</a> (sts_error_handling)</td></tr>
<tr class="memdesc:ab8f1d9807c6320de449a5983500bd7c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the hook of error handling in the STS update. This method is called before updating the BC. This method should be called after add_sts_method. The hook is added to the last term added with this subroutine. Param: sts_error_handing the subroutine which handles the errors.  <br /></td></tr>
<tr class="separator:ab8f1d9807c6320de449a5983500bd7c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6948528fda69fe0fb9b924603bb355" id="r_a6d6948528fda69fe0fb9b924603bb355"><td class="memItemLeft" align="right" valign="top">logical function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#a6d6948528fda69fe0fb9b924603bb355">mod_supertimestepping::set_dt_sts_ncycles</a> (my_dt)</td></tr>
<tr class="memdesc:a6d6948528fda69fe0fb9b924603bb355"><td class="mdescLeft">&#160;</td><td class="mdescRight">This sets the explicit dt and calculates the number of cycles for each of the terms implemented with STS.  <br /></td></tr>
<tr class="separator:a6d6948528fda69fe0fb9b924603bb355"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5eed6af0503fee10e276e32c2a22cf6f" id="r_a5eed6af0503fee10e276e32c2a22cf6f"><td class="memItemLeft" align="right" valign="top">integer, parameter, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#a5eed6af0503fee10e276e32c2a22cf6f">mod_supertimestepping::sourcetype_sts_prior</a> =0</td></tr>
<tr class="separator:a5eed6af0503fee10e276e32c2a22cf6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee73b731117cd378d312183e8688a9fd" id="r_aee73b731117cd378d312183e8688a9fd"><td class="memItemLeft" align="right" valign="top">integer, parameter, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#aee73b731117cd378d312183e8688a9fd">mod_supertimestepping::sourcetype_sts_after</a> =1</td></tr>
<tr class="separator:aee73b731117cd378d312183e8688a9fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70a467105fe297e965a1962b05db1bd" id="r_ab70a467105fe297e965a1962b05db1bd"><td class="memItemLeft" align="right" valign="top">integer, parameter, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#ab70a467105fe297e965a1962b05db1bd">mod_supertimestepping::sourcetype_sts_split</a> =2</td></tr>
<tr class="separator:ab70a467105fe297e965a1962b05db1bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157666c32be87db3a930b42afc3dc66c" id="r_a157666c32be87db3a930b42afc3dc66c"><td class="memItemLeft" align="right" valign="top">integer, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#a157666c32be87db3a930b42afc3dc66c">mod_supertimestepping::sourcetype_sts</a> = <a class="el" href="namespacemod__supertimestepping.html#ab70a467105fe297e965a1962b05db1bd">sourcetype_sts_split</a></td></tr>
<tr class="separator:a157666c32be87db3a930b42afc3dc66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a955e58cb11f828fb14ba5834e4d00aa0" id="r_a955e58cb11f828fb14ba5834e4d00aa0"><td class="memItemLeft" align="right" valign="top">type(sts_term), pointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#a955e58cb11f828fb14ba5834e4d00aa0">mod_supertimestepping::head_sts_terms</a></td></tr>
<tr class="separator:a955e58cb11f828fb14ba5834e4d00aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff5330128f2121c6e7b0ce9fa07064e0" id="r_aff5330128f2121c6e7b0ce9fa07064e0"><td class="memItemLeft" align="right" valign="top">procedure(subr3), pointer, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__supertimestepping.html#aff5330128f2121c6e7b0ce9fa07064e0">mod_supertimestepping::sts_add_source</a></td></tr>
<tr class="separator:aff5330128f2121c6e7b0ce9fa07064e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
